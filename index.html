<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Art Hunter - R∆∞∆°ng B√°u Th·ª≠ Th√°ch</title>
    <style>
        /* --- C√†i ƒë·∫∑t Bi·∫øn CSS --- */
        :root {
            --bg-level-easy: url('https://images.unsplash.com/photo-1549419137-97554e17929d?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            /* Th∆∞ vi·ªán C·ªï ƒëi·ªÉn */
            --bg-level-normal: url('https://images.unsplash.com/photo-1549635076-2e8623788775?q=80&w=2787&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            /* Hi·ªán ƒë·∫°i, Tr·∫Øng */
            --bg-level-hard: url('https://images.unsplash.com/photo-1577717903265-ec1642c8c11e?q=80&w=2835&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            /* T·ªëi, Th·ª≠ th√°ch */
            --bg-current: var(--bg-level-easy);

            /* ƒê∆∞·ªùng d·∫´n h√¨nh ·∫£nh B√åA B√ç ·∫®N (Khung ·∫£nh user cung c·∫•p) */
            --mystery-cover-image: url('C:\Users\AL\Downloads\Art Hunter Game\IMG\khungtranhanhbangdongvang1.jpg');
            --mystery-question-mark: '‚ùì';
            /* Bi·ªÉu t∆∞·ª£ng d·∫•u h·ªèi */
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #game-container {
            width: 90%;
            max-width: 1200px;
            padding: 20px;
            background-color: #2c2c2c;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            position: relative;
            background-image: var(--bg-current);
            background-size: cover;
            /* ·∫¢nh n·ªÅn hi·ªán r√µ h∆°n */
            background-blend-mode: multiply;
            background-color: rgba(0, 0, 0, 0.5); 
        }

        /* --- Thanh Tr·∫°ng th√°i --- */
        #status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 20px;
            border-bottom: 2px solid #555;
            font-size: 1.2em;
            font-weight: bold;
            background: rgba(44, 44, 44, 0.8);
            padding: 10px;
            border-radius: 5px;
        }

        #score {
            color: #ffd700;
        }

        #timer {
            color: #ff6347;
        }

        #level-display {
            color: #00bfff;
        }

        /* --- CƒÉn Ph√≤ng B·∫£o v·∫≠t --- */
        #vault-room {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            min-height: 500px;
        }

        .artifact {
            background-color: rgba(62, 62, 62, 0.9);
            border: 3px solid #555;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
            height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            pointer-events: none;
        }

        #game-container.started .artifact {
            pointer-events: auto;
        }

        .artifact:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }

        /* M·ªöI: ·∫®n ·∫£nh, t√™n v√† gi√° tr·ªã m·∫∑c ƒë·ªãnh */
        .artifact-image-container {
            width: 80%;
            height: 80px;
            margin: 5px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            opacity: 0;
            /* ·∫®n ·∫£nh m·∫∑c ƒë·ªãnh */
            transition: opacity 0.3s;
        }

        .artifact-image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 5px;
        }

        .artifact-name {
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 5px;
            opacity: 0;
            /* ·∫®n t√™n m·∫∑c ƒë·ªãnh */
            transition: opacity 0.3s;
            z-index: 10;
            position: relative;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 2px 5px;
            border-radius: 3px;
        }

        .artifact-value {
            color: #ffd700;
            font-size: 0.9em;
            opacity: 0;
            /* ·∫®n gi√° tr·ªã m·∫∑c ƒë·ªãnh */
            transition: opacity 0.3s;
            z-index: 10;
            position: relative;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 2px 5px;
            border-radius: 3px;
        }

        /* B√åA B√ç ·∫®N (Ch∆∞a b·ªã l·∫•y tr·ªôm) - S·ª≠ d·ª•ng h√¨nh ·∫£nh khung v√†ng v√† d·∫•u h·ªèi */
        .artifact::before {
            content: var(--mystery-question-mark);
            /* Hi·ªán d·∫•u h·ªèi */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            /* N·ªÅn m·ªù */
            background-image: var(--mystery-cover-image);
            /* H√¨nh ·∫£nh khung ·∫£nh */
            background-size: 100% 100%;
            /* Ph·ªß k√≠n ƒë·ªÉ th·∫•y khung */
            background-position: center;
            background-repeat: no-repeat;
            transition: opacity 0.3s;
            z-index: 5;
            pointer-events: none;
            border-radius: 8px;
            /* Style cho d·∫•u h·ªèi */
            font-size: 5em;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            text-shadow: 0 0 15px rgba(255, 255, 0, 0.8);
            /* Hi·ªáu ·ª©ng ph√°t s√°ng */
        }

        /* Khi ƒë√£ tr·ªôm: ·∫®n l·ªõp ph·ªß B√ç ·∫®N ƒë·ªÉ hi·ªÉn th·ªã b√°u v·∫≠t th·∫≠t */
        .artifact.stolen::before {
            opacity: 0 !important;
            /* ·∫®n ho√†n to√†n l·ªõp ph·ªß b√≠ ·∫©n */
            content: none;
        }

        /* Hi·ªÉn th·ªã ·∫£nh, t√™n v√† gi√° tr·ªã khi stolen */
        .artifact.stolen .artifact-image-container,
        .artifact.stolen .artifact-name,
        .artifact.stolen .artifact-value {
            opacity: 1;
        }

        /* --- Modal C√¢u h·ªèi/K·∫øt qu·∫£ --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: #333;
            margin: 8% auto;
            padding: 30px;
            border: 1px solid #888;
            width: 90%;
            max-width: 650px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.7);
        }

        #question-text {
            font-size: 1.4em;
            margin: 20px 0;
            color: #ffcc00;
        }

        #answers-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .answer-btn {
            background-color: #555;
            color: white;
            padding: 15px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.2s;
            text-align: center;
        }

        .correct {
            background-color: #4CAF50 !important;
        }

        .incorrect {
            background-color: #f44336 !important;
        }

        #feedback {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            color: #ffcc00;
        }

        /* --- Start Overlay --- */
        #start-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
            border-radius: 10px;
            opacity: 1;
            transition: opacity 0.5s;
        }

        .start-overlay-hidden {
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* --- Ti√™u ƒë·ªÅ Game "The Art Hunter" --- */
        #game-title {
            font-family: 'Times New Roman', serif;
            /* Font ch·ªØ c∆° b·∫£n gi·ªëng ·∫£nh */
            font-size: 3.5em;
            /* K√≠ch th∆∞·ªõc l·ªõn */
            font-weight: bold;
            color: #E6D2B3;
            /* M√†u v√†ng kem nh·∫π */
            text-shadow:
                -2px -2px 0 #4A3A2D,
                /* Shadow ƒë·∫≠m ph√≠a tr√™n tr√°i */
                2px -2px 0 #4A3A2D,
                /* Shadow ƒë·∫≠m ph√≠a tr√™n ph·∫£i */
                -2px 2px 0 #4A3A2D,
                /* Shadow ƒë·∫≠m ph√≠a d∆∞·ªõi tr√°i */
                2px 2px 0 #4A3A2D,
                /* Shadow ƒë·∫≠m ph√≠a d∆∞·ªõi ph·∫£i */
                0 0 10px rgba(255, 255, 255, 0.5);
            /* √Ånh s√°ng nh·∫π */
            letter-spacing: 2px;
            /* Kho·∫£ng c√°ch ch·ªØ */
            margin-bottom: 30px;
            /* Kho·∫£ng c√°ch v·ªõi d√≤ng d∆∞·ªõi */
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.3);
            /* N·ªÅn m·ªù cho ti√™u ƒë·ªÅ */
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        #level-selection-buttons {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .level-select-btn {
            padding: 15px 30px;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.1s;
        }

        #easy-btn {
            background-color: #4CAF50;
        }

        #normal-btn {
            background-color: #ff9800;
        }

        #hard-btn {
            background-color: #f44336;
        }

        .level-select-btn:hover {
            transform: scale(1.05);
        }

        #start-message {
            margin-bottom: 20px;
            font-size: 1.8em;
            color: #ffd700;
        }

        #start-details {
            font-size: 1.1em;
            color: #ccc;
            text-align: center;
        }
    </style>
</head>

<body>
    <audio id="background-music" loop preload="auto">
        <source src="C:\Users\AL\Downloads\Art Hunter Game\AUDIO\Arena of Valor  Skin Music  Yorn x Detective Conan  Original Game Soundtrack.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph·∫ßn t·ª≠ audio.
    </audio>

    <div id="game-container">

        <div id="start-overlay">
            <h1 id="game-title">THE ART HUNTER</h1>
            <h2 id="start-message">CH·ªåN T·∫¶NG, SI√äU TR·ªòM!</h2>
            <p id="start-details">Ch·ªçn m·ª©c ƒë·ªô ƒë·ªÉ x√°c ƒë·ªãnh th·ªùi gian v√† gi√° tr·ªã b·∫£o v·∫≠t. Ch√∫c may m·∫Øn!</p>
            <div id="level-selection-buttons">
                <button id="easy-btn" class="level-select-btn" data-level="easy">T·∫¶NG D·ªÑ (3:00)</button>
                <button id="normal-btn" class="level-select-btn" data-level="normal">T·∫¶NG B√åNH TH∆Ø·ªúNG (2:00)</button>
                <button id="hard-btn" class="level-select-btn" data-level="hard">T·∫¶NG KH√ì (1:00)</button>
            </div>
        </div>

        <div id="status-bar">
            <div id="score">üí∞ Gi√° tr·ªã: 0$</div>
            <div id="level-display">üåü T·∫ßng: Ch∆∞a ch·ªçn</div>
            <div id="timer">‚è±Ô∏è Th·ªùi gian: 0s</div>
        </div>

        <div id="vault-room">
        </div>

        <div id="question-modal" class="modal">
            <div class="modal-content">
                <h2>üîì C√ÇU H·ªéI M·ªû KH√ìA</h2>
                <p id="question-text"></p>
                <div id="answers-container"></div>
                <div id="feedback"></div>
                <button id="restart-button"
                    style="display:none; margin-top: 20px; padding: 10px 20px; background-color: #00bfff; color: white; border: none; border-radius: 5px; cursor: pointer;"
                    onclick="window.location.reload()">Th·ª≠ L·∫°i</button>
            </div>
        </div>
    </div>

    <script>
        // --- D·ªØ li·ªáu B·∫£o v·∫≠t v√† C√¢u h·ªèi cho 3 T·∫ßng ---

        const BASE_ARTIFACTS = [
            // T·∫ßng D·ªÖ (20 items - Indices 0-19)
            { name: "Mona Lisa", baseValue: 1000000, imagePath: "https://i.imgur.com/k6lPqHq.png" },
            { name: "The Scream", baseValue: 800000, imagePath: "https://i.imgur.com/vH9jG7t.png" },
            { name: "The Thinker", baseValue: 550000, imagePath: "https://i.imgur.com/Q21HqJ0.png" },
            { name: "Faberge Egg", baseValue: 450000, imagePath: "https://i.imgur.com/5V3xXyZ.png" },
            { name: "The Kiss (Klimt)", baseValue: 600000, imagePath: "https://i.imgur.com/5uD6c0y.png" },
            { name: "Statue of David", baseValue: 1050000, imagePath: "https://i.imgur.com/L7sVb4F.png" },
            { name: "Sunstone", baseValue: 400000, imagePath: "https://i.imgur.com/8Nn3K4X.png" },
            { name: "Venus de Milo", baseValue: 950000, imagePath: "https://i.imgur.com/9nJk0Lw.png" },
            { name: "Code of Hammurabi", baseValue: 700000, imagePath: "https://i.imgur.com/1B7H0wV.png" },
            { name: "Rosetta Stone", baseValue: 650000, imagePath: "https://i.imgur.com/r6O0G5E.png" },
            // TH√äM 10 B·∫¢O V·∫¨T CHO T·∫¶NG D·ªÑ
            { name: "The Night Watch", baseValue: 500000, imagePath: "https://i.imgur.com/GjT4hNn.png" },
            { name: "Parthenon Sculpture", baseValue: 700000, imagePath: "https://i.imgur.com/xT5qYwK.png" },
            { name: "Neptune Statue", baseValue: 350000, imagePath: "https://i.imgur.com/4hN1yQn.png" },
            { name: "Ancient Greek Vase", baseValue: 250000, imagePath: "https://i.imgur.com/W2x0Q9X.png" },
            { name: "Coptic Textile", baseValue: 300000, imagePath: "https://i.imgur.com/0vT2g8v.png" },
            { name: "The Birth of Venus", baseValue: 620000, imagePath: "https://i.imgur.com/7sA6D1u.png" },
            { name: "The Last Judgment", baseValue: 880000, imagePath: "https://i.imgur.com/L7sVb4F.png" },
            { name: "Bronze Buddha Statue", baseValue: 410000, imagePath: "https://i.imgur.com/M6xZ8rA.png" },
            { name: "Roman Coin Collection", baseValue: 330000, imagePath: "https://i.imgur.com/vH9jG7t.png" },
            { name: "Hieroglyphic Tablet", baseValue: 520000, imagePath: "https://i.imgur.com/r6O0G5E.png" },

            // T·∫ßng B√¨nh th∆∞·ªùng (15 items - Indices 20-34)
            { name: "Star of India", baseValue: 500000, imagePath: "https://i.imgur.com/hT1qJ6Q.png" }, // index 20 (b·∫Øt ƒë·∫ßu Normal)
            { name: "Crown Jewels", baseValue: 1200000, imagePath: "https://i.imgur.com/HlJ2t3F.png" },
            { name: "Terra Cotta Army", baseValue: 1100000, imagePath: "https://i.imgur.com/vW7jK8C.png" },
            { name: "Mask of Tutankhamun", baseValue: 900000, imagePath: "https://i.imgur.com/XwE4GzK.png" },
            { name: "The Last Supper", baseValue: 850000, imagePath: "https://i.imgur.com/fL4PqR0.png" },
            { name: "Magna Carta", baseValue: 980000, imagePath: "https://i.imgur.com/G5qWJ4p.png" },
            { name: "Bust of Nefertiti", baseValue: 750000, imagePath: "https://i.imgur.com/N7b0D9j.png" },
            { name: "The Book of Kells", baseValue: 780000, imagePath: "https://i.imgur.com/S1L6pYt.png" },
            { name: "Great Mogul Diamond", baseValue: 1300000, imagePath: "https://i.imgur.com/A6jZk9x.png" },
            { name: "Palace of Knossos Fresco", baseValue: 680000, imagePath: "https://i.imgur.com/R0iV5fA.png" },
            // TH√äM 5 B·∫¢O V·∫¨T CHO T·∫¶NG B√åNH TH∆Ø·ªúNG
            { name: "Imperial Jade Seal", baseValue: 1150000, imagePath: "https://i.imgur.com/G5qWJ4p.png" },
            { name: "Scythian Gold Stag", baseValue: 820000, imagePath: "https://i.imgur.com/9nJk0Lw.png" },
            { name: "Discus Thrower Statue", baseValue: 930000, imagePath: "https://i.imgur.com/Q21HqJ0.png" },
            { name: "Gutenberg Bible", baseValue: 1020000, imagePath: "https://i.imgur.com/3pQ0yA5.png" },
            { name: "Samurai Armor Set", baseValue: 720000, imagePath: "https://i.imgur.com/vW7jK8C.png" }, // index 34 (k·∫øt th√∫c Normal)

            // T·∫ßng Kh√≥ (10 items - Indices 35-44)
            { name: "Hope Diamond", baseValue: 1500000, imagePath: "https://i.imgur.com/yD8vP3K.png" }, // index 35 (b·∫Øt ƒë·∫ßu Hard)
            { name: "Sistine Chapel Art", baseValue: 1400000, imagePath: "https://i.imgur.com/h2GjVzY.png" },
            { name: "Apollo 11 Command Module", baseValue: 2000000, imagePath: "https://i.imgur.com/T0tB0uG.png" },
            { name: "Declaration of Independence", baseValue: 1800000, imagePath: "https://i.imgur.com/3pQ0yA5.png" },
            { name: "Diamond Jubilee Crown", baseValue: 1600000, imagePath: "https://i.imgur.com/9C8L2M7.png" },
            { name: "Starry Night (Van Gogh)", baseValue: 1700000, imagePath: "https://i.imgur.com/D4sT9Yw.png" },
            { name: "Viking Ship Oseberg", baseValue: 1350000, imagePath: "https://i.imgur.com/B7yPqLh.png" },
            { name: "Bayeux Tapestry", baseValue: 1250000, imagePath: "https://i.imgur.com/Q3jH4I0.png" },
            { name: "Mask of Agamemnon", baseValue: 1150000, imagePath: "https://i.imgur.com/M6xZ8rA.png" },
            { name: "Peacock Throne Replica", baseValue: 1900000, imagePath: "https://i.imgur.com/N5oG7V0.png" }, // index 44 (k·∫øt th√∫c Hard)
        ];
        const BASE_QUESTIONS = [
            // D·ªÖ - 20 c√¢u (Indices 0-19)
            { question: "What is the past tense of 'to lead'?", answers: ["leaded", "led", "leed", "ladden"], correct: "led" },
            { question: "Which word is a synonym for 'ubiquitous'?", answers: ["rare", "scarce", "omnipresent", "limited"], correct: "omnipresent" },
            { question: "Complete the idiom: 'Bite the ___ that feeds you.'", answers: ["hand", "apple", "finger", "tongue"], correct: "hand" },
            { question: "Which word is a conjunction?", answers: ["quickly", "between", "although", "running"], correct: "although" },
            { question: "What is the meaning of 'Ephemeral'?", answers: ["permanent", "long-lasting", "lasting for a very short time", "eternal"], correct: "lasting for a very short time" },
            { question: "The plural of 'cactus' can be 'cactuses' or...", answers: ["cacti", "cactus", "cactusi", "cact"], correct: "cacti" },
            { question: "Identify the misspelled word:", answers: ["recieve", "believe", "achieve", "ceiling"], correct: "recieve" },
            { question: "What is the adjective form of 'courage'?", answers: ["courageous", "couraging", "couragely", "courageful"], correct: "courageous" },
            { question: "The phrase 'A dime a dozen' means:", answers: ["very expensive", "very rare", "very common and of little value", "worth exactly ten cents"], correct: "very common and of little value" },
            { question: "Which sentence uses the passive voice?", answers: ["She opened the door.", "The cake was baked by her.", "He is singing a song.", "They watched the movie."], correct: "The cake was baked by her." },
            // TH√äM 10 C√ÇU H·ªéI CHO T·∫¶NG D·ªÑ
            { question: "What is the synonym for 'elucidate'?", answers: ["confuse", "explain", "obfuscate", "question"], correct: "explain" },
            { question: "Which is the correct possessive form?", answers: ["childrens' toys", "children's toys", "childs' toys", "childrens toys"], correct: "children's toys" },
            { question: "The word 'read' is a homograph of 'read' (past tense) but has a different...", answers: ["spelling", "meaning", "pronunciation", "root"], correct: "pronunciation" },
            { question: "Which word means 'extreme happiness'?", answers: ["misery", "euphoria", "sadness", "apathy"], correct: "euphoria" },
            { question: "Choose the correct phrase: 'If I ___ you, I would take the offer.'", answers: ["was", "would be", "were", "am"], correct: "were" },
            { question: "What is the opposite of 'procrastinate'?", answers: ["delay", "wait", "act immediately", "postpone"], correct: "act immediately" },
            { question: "Which sentence uses the present perfect tense?", answers: ["She is eating.", "She ate.", "She has eaten.", "She will eat."], correct: "She has eaten." },
            { question: "Identify the noun in the sentence: 'The cat slept peacefully.'", answers: ["The", "cat", "slept", "peacefully"], correct: "cat" },
            { question: "What is the meaning of 'clandestine'?", answers: ["open", "public", "secret", "famous"], correct: "secret" },
            { question: "Which is a modal verb?", answers: ["go", "eat", "can", "run"], correct: "can" },

            // B√¨nh th∆∞·ªùng - 15 c√¢u (Indices 20-34)
            { question: "What does 'negligent' mean?", answers: ["Careful", "Diligent", "Failing to take proper care", "Hardworking"], correct: "Failing to take proper care" }, // index 20 (b·∫Øt ƒë·∫ßu Normal)
            { question: "Which word is an adverb?", answers: ["Beauty", "Beautiful", "Beautifully", "Beautify"], correct: "Beautifully" },
            { question: "What is the collective noun for a group of crows?", answers: ["A flock", "A murder", "A swarm", "A herd"], correct: "A murder" },
            { question: "Choose the correct preposition: 'She is good ___ math.'", answers: ["in", "at", "for", "on"], correct: "at" },
            { question: "Which word means 'to surrender or yield'?", answers: ["resist", "capitulate", "defend", "persuade"], correct: "capitulate" },
            { question: "What is a 'homophone'?", answers: ["Words spelled the same", "Words with similar meaning", "Words that sound the same but have different meanings", "Words with opposite meaning"], correct: "Words that sound the same but have different meanings" },
            { question: "The correct idiom is '___ of the crop'.", answers: ["cream", "butter", "milk", "cheese"], correct: "cream" },
            { question: "Which word is an antonym for 'benevolent'?", answers: ["kind", "generous", "malevolent", "friendly"], correct: "malevolent" },
            { question: "What is the verb form of the noun 'analysis'?", answers: ["analytic", "analyze", "analyzed", "analyser"], correct: "analyze" },
            { question: "Identify the pronoun in the sentence: 'They went to the park.'", answers: ["went", "park", "They", "to"], correct: "They" },
            // TH√äM 5 C√ÇU H·ªéI CHO T·∫¶NG B√åNH TH∆Ø·ªúNG
            { question: "What does the phrasal verb 'call off' mean?", answers: ["to shout loudly", "to cancel", "to visit", "to postpone"], correct: "to cancel" },
            { question: "Which word means 'showing great attention to detail'?", answers: ["careless", "meticulous", "lazy", "hasty"], correct: "meticulous" },
            { question: "The term for 'a word formed from the initial letters of other words' is:", answers: ["acronym", "synonym", "antonym", "homonym"], correct: "acronym" },
            { question: "Which word is a determiner?", answers: ["run", "beautiful", "the", "sleep"], correct: "the" },
            { question: "The idiom 'Barking up the wrong tree' means:", answers: ["climbing the wrong tree", "making a correct assumption", "making a mistaken assumption", "shouting loudly"], correct: "making a mistaken assumption" }, // index 34 (k·∫øt th√∫c Normal)

            // T·∫ßng Kh√≥ - 10 c√¢u (Indices 35-44)
            { question: "Which ancient civilization developed the concept of zero?", answers: ["Greeks", "Romans", "Mayans", "Egyptians"], correct: "Mayans" }, // index 35 (b·∫Øt ƒë·∫ßu Hard)
            { question: "In computing, what does 'RAM' stand for?", answers: ["Read Access Memory", "Random Access Module", "Random Access Memory", "Running Active Mode"], correct: "Random Access Memory" },
            { question: "What is the capital city of Australia?", answers: ["Sydney", "Melbourne", "Canberra", "Perth"], correct: "Canberra" },
            { question: "Who formulated the theory of relativity?", answers: ["Isaac Newton", "Niels Bohr", "Albert Einstein", "Galileo Galilei"], correct: "Albert Einstein" },
            { question: "What element has the chemical symbol 'Au'?", answers: ["Silver", "Gold", "Iron", "Aluminum"], correct: "Gold" },
            { question: "Which planet is known as the 'Red Planet'?", answers: ["Venus", "Mars", "Jupiter", "Saturn"], correct: "Mars" },
            { question: "What is the largest organ of the human body?", answers: ["Heart", "Liver", "Skin", "Lungs"], correct: "Skin" },
            { question: "Which country is the largest producer of coffee?", answers: ["Vietnam", "Colombia", "Ethiopia", "Brazil"], correct: "Brazil" },
            { question: "The process of a solid turning directly into a gas is called:", answers: ["Condensation", "Evaporation", "Sublimation", "Deposition"], correct: "Sublimation" },
            { question: "What is the primary function of chlorophyll in plants?", answers: ["Respiration", "Water absorption", "Photosynthesis", "Nutrient storage"], correct: "Photosynthesis" } // index 44 (k·∫øt th√∫c Hard)
        ];

        // C·∫•u h√¨nh c√°c T·∫ßng ch∆°i
        const LEVEL_CONFIG = {
            "easy": { time: 180, multiplier: 0.8, name: "D·ªÖ", startArtifact: 0, questionOffset: 0, bgVar: "--bg-level-easy" },
            "normal": { time: 120, multiplier: 1.0, name: "B√¨nh th∆∞·ªùng", startArtifact: 20, questionOffset: 20, bgVar: "--bg-level-normal" }, // B·∫Øt ƒë·∫ßu t·ª´ index 20 (sau 20 items Easy)
            "hard": { time: 60, multiplier: 1.5, name: "Kh√≥", startArtifact: 35, questionOffset: 35, bgVar: "--bg-level-hard" } // B·∫Øt ƒë·∫ßu t·ª´ index 35 (sau 20 Easy + 15 Normal)
        };

        // --- Bi·∫øn Tr·∫°ng th√°i Tr√≤ ch∆°i ---
        let currentLevelKey = null;
        let currentLevelConfig = null;
        let currentArtifacts = [];
        let currentQuestions = [];
        let currentScore = 0;
        let timeLeft = 0;
        let gameInterval;
        let isGameRunning = false;
        let currentArtifactElement = null;
        let currentQuestion = null;

        // --- DOM Elements ---
        const backgroundMusic = document.getElementById('background-music'); // ELEMENT M·ªöI
        const gameContainer = document.getElementById('game-container');
        const startOverlay = document.getElementById('start-overlay');
        const levelSelectionButtons = document.querySelectorAll('.level-select-btn');
        const vaultRoom = document.getElementById('vault-room');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const levelDisplay = document.getElementById('level-display');
        const modal = document.getElementById('question-modal');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const feedback = document.getElementById('feedback');
        const restartButton = document.getElementById('restart-button');

        // --- Event Listener cho n√∫t Ch·ªçn T·∫ßng ---
        levelSelectionButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                currentLevelKey = event.target.dataset.level;
                currentLevelConfig = LEVEL_CONFIG[currentLevelKey];

                // B·∫ÆT ƒê·∫¶U PH√ÅT NH·∫†C N·ªÄN
                backgroundMusic.volume = 0.5; // ƒê·∫∑t √¢m l∆∞·ª£ng 50%
                backgroundMusic.play().catch(e => {
                    // X·ª≠ l√Ω l·ªói n·∫øu tr√¨nh duy·ªát ch·∫∑n autoplay
                    console.log("Autoplay blocked. User needs to interact again to start music:", e);
                });

                initializeGame(currentLevelConfig);
            });
        });

        // --- Kh·ªüi t·∫°o Game sau khi ch·ªçn t·∫ßng ---
        function initializeGame(config) {
            // X√°c ƒë·ªãnh s·ªë l∆∞·ª£ng item cho t·∫ßng hi·ªán t·∫°i
            let numArtifacts;
            if (currentLevelKey === 'easy') numArtifacts = 20;
            else if (currentLevelKey === 'normal') numArtifacts = 15;
            else if (currentLevelKey === 'hard') numArtifacts = 10;

            // L·∫•y b·∫£o v·∫≠t v√† c√¢u h·ªèi t∆∞∆°ng ·ª©ng d·ª±a tr√™n s·ªë l∆∞·ª£ng m·ªõi
            currentArtifacts = BASE_ARTIFACTS.slice(config.startArtifact, config.startArtifact + numArtifacts).map(a => ({
                ...a,
                value: Math.round(a.baseValue * config.multiplier),
                stolen: false
            }));
            currentQuestions = BASE_QUESTIONS.slice(config.questionOffset, config.questionOffset + numArtifacts);

            // Thi·∫øt l·∫≠p tr·∫°ng th√°i game
            timeLeft = config.time;
            levelDisplay.textContent = `üåü T·∫ßng: ${config.name}`;
            timerDisplay.textContent = `‚è±Ô∏è Th·ªùi gian: ${formatTime(timeLeft)}`;

            // C·∫≠p nh·∫≠t background
            document.documentElement.style.setProperty('--bg-current', `var(${config.bgVar})`);

            // ·∫®n l·ªõp ph·ªß v√† k√≠ch ho·∫°t ch∆°i
            startOverlay.classList.add('start-overlay-hidden');
            gameContainer.classList.add('started');
            isGameRunning = true;

            initializeArtifacts(currentArtifacts);
            startTimer(); // B·∫Øt ƒë·∫ßu timer li√™n t·ª•c
        }

        // --- Kh·ªüi t·∫°o B·∫£o v·∫≠t tr√™n m√†n h√¨nh ---
        function initializeArtifacts(artifactsData) {
            vaultRoom.innerHTML = '';

            artifactsData.forEach((artifact, index) => {
                const artifactDiv = document.createElement('div');
                artifactDiv.classList.add('artifact');
                artifactDiv.dataset.index = index;

                // Th√™m h√¨nh ·∫£nh (B·ªã ·∫©n b·ªüi CSS m·∫∑c ƒë·ªãnh, ch·ªâ hi·ªán khi stolen)
                const imageContainer = document.createElement('div');
                imageContainer.classList.add('artifact-image-container');
                const img = document.createElement('img');
                img.src = artifact.imagePath;
                img.alt = artifact.name;
                imageContainer.appendChild(img);
                artifactDiv.appendChild(imageContainer);

                // Th√™m t√™n v√† gi√° tr·ªã (B·ªã ·∫©n b·ªüi CSS m·∫∑c ƒë·ªãnh, ch·ªâ hi·ªán khi stolen)
                const nameDiv = document.createElement('div');
                nameDiv.classList.add('artifact-name');
                nameDiv.textContent = artifact.name;
                artifactDiv.appendChild(nameDiv);

                const valueDiv = document.createElement('div');
                valueDiv.classList.add('artifact-value');
                valueDiv.textContent = `Gi√° tr·ªã: ${formatValue(artifact.value)} $`;
                artifactDiv.appendChild(valueDiv);

                artifactDiv.addEventListener('click', () => {
                    if (isGameRunning && !artifact.stolen) {
                        currentArtifactElement = artifactDiv;
                        showQuestionModal(currentQuestions);
                    }
                });

                vaultRoom.appendChild(artifactDiv);
            });
        }

        // --- B·∫Øt ƒë·∫ßu ƒê·ªìng h·ªì (Kh√¥ng bao gi·ªù ng·ª´ng l·∫°i) ---
        function startTimer() {
            if (gameInterval) clearInterval(gameInterval);

            gameInterval = setInterval(() => {
                if (isGameRunning) {
                    timeLeft--;
                    timerDisplay.textContent = `‚è±Ô∏è Th·ªùi gian: ${formatTime(timeLeft)}`;

                    if (timeLeft <= 0) {
                        clearInterval(gameInterval);
                        endGame(false);
                    }
                }
            }, 1000);
        }

        // --- Hi·ªÉn th·ªã Modal C√¢u h·ªèi (ƒê·ªìng h·ªì v·∫´n ch·∫°y) ---
        function showQuestionModal(questions) {
            const stolenArtifactsCount = currentArtifacts.filter(a => a.stolen).length;
            const questionIndex = stolenArtifactsCount;
            currentQuestion = questions[questionIndex];

            // Ki·ªÉm tra n·∫øu h·∫øt c√¢u h·ªèi (ng∆∞·ªùi ch∆°i ƒë√£ tr·ªôm h·∫øt)
            if (!currentQuestion) {
                closeModal(modal);
                checkLevelCompletion();
                return;
            }

            questionText.textContent = currentQuestion.question;
            answersContainer.innerHTML = '';
            feedback.textContent = '';
            restartButton.style.display = 'none'; // ·∫®n n√∫t restart trong modal c√¢u h·ªèi

            const shuffledAnswers = shuffleArray([...currentQuestion.answers]);

            shuffledAnswers.forEach(answer => {
                const button = document.createElement('button');
                button.classList.add('answer-btn');
                button.textContent = answer;
                button.addEventListener('click', () => checkAnswer(button, answer));
                answersContainer.appendChild(button);
            });

            modal.style.display = 'block';
        }

        // --- Ki·ªÉm tra ƒê√°p √°n ---
        function checkAnswer(selectedButton, selectedAnswer) {
            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t ƒë·ªÉ ngƒÉn ch·∫∑n nh·∫•p chu·ªôt ti·∫øp theo
            document.querySelectorAll('.answer-btn').forEach(btn => btn.disabled = true);

            if (selectedAnswer === currentQuestion.correct) {
                selectedButton.classList.add('correct');
                feedback.textContent = '‚úÖ Ch√≠nh x√°c! R∆∞∆°ng b√°u ƒë√£ m·ªü kh√≥a!';

                // Th·ªùi gian ch·ªù ng·∫Øn tr∆∞·ªõc khi x·ª≠ l√Ω tr·ªôm th√†nh c√¥ng
                setTimeout(processTheft, 1200);
            } else {
                selectedButton.classList.add('incorrect');

                feedback.textContent = '‚ùå Sai r·ªìi! H√£y th·ª≠ l·∫°i ·ªü b·∫£o v·∫≠t kh√°c.';

                // Th·ªùi gian ch·ªù l√¢u h∆°n (3 gi√¢y) ƒë·ªÉ ng∆∞·ªùi ch∆°i ƒë·ªçc th√¥ng b√°o th·∫•t b·∫°i
                setTimeout(() => {
                    closeModal(modal);
                }, 3000);
            }
        }

        // --- X·ª≠ l√Ω Tr·ªôm b·∫£o v·∫≠t th√†nh c√¥ng ---
        function processTheft() {
            const index = parseInt(currentArtifactElement.dataset.index);
            const artifact = currentArtifacts.find(a => a.name === currentArtifacts[index].name); // T√¨m l·∫°i ƒë·ªëi t∆∞·ª£ng artifact ch√≠nh x√°c

            if (artifact) {
                artifact.stolen = true;
                currentArtifactElement.classList.add('stolen');
                currentScore += artifact.value;
                scoreDisplay.textContent = `üí∞ Gi√° tr·ªã: ${formatValue(currentScore)}$`;
            }

            closeModal(modal);
            checkLevelCompletion();
        }

        // --- Ki·ªÉm tra ho√†n th√†nh t·∫ßng ---
        function checkLevelCompletion() {
            const stolenCount = currentArtifacts.filter(a => a.stolen).length;

            if (stolenCount === currentArtifacts.length) {
                isGameRunning = false;
                clearInterval(gameInterval); // ƒê·∫£m b·∫£o d·ª´ng khi th·∫Øng
                endGame(true);
            }
        }

        // --- ƒê√≥ng Modal chung ---
        function closeModal(targetModal) {
            targetModal.style.display = 'none';
        }

        // --- K·∫øt th√∫c Tr√≤ ch∆°i (win = true n·∫øu th·∫Øng to√†n b·ªô, false n·∫øu thua do h·∫øt gi·ªù) ---
        function endGame(win) {
            isGameRunning = false;
            clearInterval(gameInterval);
            backgroundMusic.pause(); // D·ª´ng nh·∫°c n·ªÅn khi k·∫øt th√∫c
            modal.style.display = 'block';

            answersContainer.innerHTML = '';
            restartButton.style.display = 'block';

            if (win) {
                questionText.textContent = "HO√ÄN TH√ÄNH V·ª§ TR·ªòM!";
                answersContainer.innerHTML = `<p style="font-size: 1.5em; color: #ffd700;">Ng∆∞∆°i ƒë√£ tr·ªôm h·∫øt ${currentArtifacts.length} b·∫£o v·∫≠t c·ªßa T·∫ßng ${currentLevelConfig.name}! T·ªïng gi√° tr·ªã: ${formatValue(currentScore)}$!</p>`;
                feedback.textContent = "Kh√¥ng ai c√≥ th·ªÉ ngƒÉn c·∫£n ng∆∞∆°i Si√™u Tr·ªôm!";
            } else {
                questionText.textContent = "TH·∫§T B·∫†I NHI·ªÜM V·ª§!";
                answersContainer.innerHTML = `<p style="font-size: 1.5em; color: #ffd700;">ƒê·ªìng h·ªì b√°o ƒë·ªông ƒë√£ ƒëi·ªÉm! T·ªïng gi√° tr·ªã tr·ªôm ƒë∆∞·ª£c: ${formatValue(currentScore)}$</p>`;
                feedback.textContent = "Phi v·ª• th·∫•t b·∫°i ng∆∞∆°i ƒë√£ b·ªã t√≥m, Si√™u Tr√¥m:)))!";
            }
        }

        // --- H√†m ti·ªán √≠ch ---
        function formatValue(value) {
            return value.toLocaleString('en-US');
        }

        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}s`;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Kh·ªüi t·∫°o ban ƒë·∫ßu ---
        timerDisplay.textContent = `‚è±Ô∏è Th·ªùi gian: ${formatTime(0)}`;
    </script>
</body>


</html>
